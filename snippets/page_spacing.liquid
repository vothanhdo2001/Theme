{%- capture css -%}
{%- style -%}
  #product-details-with-gallery{
    {%- for block in section.blocks -%}
    {%- case block.type -%}
    {%- when 'section_margin' -%}
    margin-top: {{ block.settings.section_margin_top }}px !important;
    margin-bottom: {{ block.settings.section_margin_bottom }}px !important;
    {%- when 'section_padding' -%}
    padding-top: {{ block.settings.section_padding_top }}px !important;
    padding-bottom: {{ block.settings.section_padding_bottom }}px !important;
    {%- when 'section_background' -%}    
    background: {{ block.settings.section_bg_color }} 
      {%- if block.settings.section_bg_image -%}url("{{ block.settings.section_bg_image | img_url: 'master' }}"){%- endif -%} no-repeat scroll center center / cover;
    {%- endcase -%}
    {%- endfor -%}
  }

    {%- for block in section.blocks -%}
    {%- case block.type -%}
    {%- when 'section_background' -%}
    #product-details-with-gallery.section_overlay::before  {
      background: {{ block.settings.section_overlay_color }};
      opacity: {{ block.settings.section_overlay_opacity }};
      }
    {%- endcase -%}
    {%- endfor -%}


  @media (min-width: 768px) and (max-width: 991px) {
    #product-details-with-gallery{
      {%- for block in section.blocks -%}
      {%- case block.type -%}
      {%- when 'section_margin' -%}
      margin-top: {{ block.settings.section_margin_top_md }}px !important;
      margin-bottom: {{ block.settings.section_margin_bottom_md }}px !important;
      {%- when 'section_padding' -%}
      padding-top: {{ block.settings.section_padding_top_md }}px !important;
      padding-bottom: {{ block.settings.section_padding_bottom_md }}px !important;
      {%- endcase -%}
      {%- endfor -%}
    }
  }
  @media (max-width: 767px) {
    #product-details-with-gallery{
      {%- for block in section.blocks -%}
      {%- case block.type -%}
      {%- when 'section_margin' -%}
      margin-top: {{ block.settings.section_margin_top_xs }}px !important;
      margin-bottom: {{ block.settings.section_margin_bottom_xs }}px !important;
      {%- when 'section_padding' -%}
      padding-top: {{ block.settings.section_padding_top_xs }}px !important;
      padding-bottom: {{ block.settings.section_padding_bottom_xs }}px !important;
      {%- endcase -%}
      {%- endfor -%}
    }
  }

{%- endstyle -%}
{%- endcapture -%}
{{ css | strip_newlines
       | replace: '  ', '' 
       | replace: ': ', ':'
       | replace: ' {', '{'
}}